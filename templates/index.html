<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Markdown 转换工具</title>
    <!-- 引入 html2canvas 用于前端截图 -->
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script>
        window.MathJax = {
          tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']],
            processEscapes: true
          },
          svg: { 
            fontCache: 'global',
            scale: 0.9  // 调整公式显示比例
          }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"></script>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>Markdown 转换工具</h1>
            <div class="controls">
                <button class="btn primary" id="preview_btn">实时预览</button>
                <div class="export-btns">
                    <button class="btn success" id="export_docx_btn">导出 Word</button>
                    <button class="btn warning" id="export_pdf_btn">导出 PDF</button>
                    <button class="btn danger" id="export_image_btn">截图导出</button>
                </div>
            </div>
        </header>

        <div class="editor-container">
            <textarea id="markdown_input" placeholder="在此粘贴您的 Markdown 内容..."></textarea>
            <div class="preview-area">
                <div class="preview-header">
                    <h3>预览效果</h3>
                    <small>（实时更新）</small>
                </div>
                <div id="preview_content"></div>
            </div>
        </div>
    </div>
    <div class="sponsor-btn">
        <a href="https://afdian.com/a/lingyunfei" target="_blank" rel="noopener">
            <svg t="1718187327616" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2380" width="32" height="32"><path d="M512 1024C229.2224 1024 0 794.7776 0 512S229.2224 0 512 0s512 229.2224 512 512-229.2224 512-512 512z m-48-192h96v64h-96v-64z m144.7424-448.6144c50.4832 0 91.392 40.9088 91.392 91.392v76.8c0 50.4832-40.9088 91.392-91.392 91.392H415.2576c-50.4832 0-91.392-40.9088-91.392-91.392v-76.8c0-50.4832 40.9088-91.392 91.392-91.392h193.4848zM512 192c-97.2288 0-176 78.7712-176 176v112h96v-112c0-44.0832 35.9168-80 80-80s80 35.9168 80 80v112h96v-112c0-97.2288-78.7712-176-176-176z" fill="#946ce6" p-id="2381"></path></svg>
            <span>支持开发者</span>
        </a>
    </div>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>